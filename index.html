<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Labirynt Game</title>
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css" />
    <link rel="shortcut icon" type="image/x-icon" href="/logo-labyrinth-game.ico" />
    <script src="./assets/js/main.js"></script>
    <script src="https://js13kgames.com/webxr-src/aframe.js"></script>
</head>
<body>
    <div class="editor">
            <div class="heading">
                <h1>Welcome to the Labyrinth Game</h1>
                <h3>Creat your own labyrinth!</h3>
            </div>
            <div class="editor-body">
                <div id="settings-place">
                    <div>
                        <p class="creator-title creator-2d">2D creator</p>
                        <div class="creator-content collapsed">
                            <label for="creator-name">Creator name</label>
                            <input id="creator-name" name="creator-name" type="text" placeholder="Write your name"/>
                            <label for="grid-settings">Set number of columns</label>
                            <input id="grid-settings" name="grid-settings" type="number" placeholder="0"/>
                            <button id="accept-settings">Accept settings</button>
                            <button id="apply">Start game!</button>
                        </div>
                    </div>
                    <button id="vr-creator">VR creator</button>
                    <button id="another-maps" data-target="loadedMaps">See other maps <span class="maps-counter"></span></button>
                    <button id="help" data-target="help-modal">Get some help</button>
                </div>
                <div id="creator-place"></div>
                <div class="apply-block">
                    <button id="start-random">Start random map!</button>
                    <h3 class="apply-error"></h3>
                </div>
            </div>
    </div>

    <div id="loadedMaps" class="hidden"></div>

    <div id="help-modal" class="hidden">
        <div class="help-body">
            <h2>How to play</h2>
            <ul class="help-info-list">
                <li>1. Define the number of columns and type in your name.</li>
                <li>
                    <p>2. Create your own labyrinth with click or in vr look control</p>
                    <ul class="help-second">
                        <li class="text"><b>Legend:</b></li>
                        <li class="wall" data-color="#333"> - walls</li>
                        <li class="start"> - define start on first click</li>
                        <li class="paths"> - define path</li>
                        <li class="finish"> - last click defines finish</li>
                        <li class="option"> - choosable option</li>
                        <li class="default"> - option to chose</li>
                    </ul>
                </li>
                <li>3. Start the game and enjoy your way!</li>
            </ul>
        </div>
    </div>

    <div id="hiscore-owner" class="hidden">
        <h1> Congratulations!</h1>
        <label for="owner-name">Your Name</label>
        <input id="owner-name" name="owner-name" placeholder="Write your name"/>
        <button id="save-owner">Accept</button>
    </div>

    <div class="preview">
        <a-scene  id="labyrinth-scene" background="color: #000;">
            <a-entity id="player" position="0 0.5 0">
                <a-entity position="0 1 0" light="type: point; color: #ffffff; intensity: 2; decay: 2; distance: 5;"></a-entity>
                <a-entity laser-controls raycaster="far: 35"></a-entity>
                <a-entity camera look-controls wasd-controls="enabled: false">
                    <a-entity id="cursor" position="0 0 -0.5" geometry="primitive: ring; radiusOuter: 0.012; radiusInner: 0.005;" material="color: #FFF;" cursor="fuseTimeout: 1000; fuse: true;" visible="true">
                        <a-entity animation="easing: easeInQuad; property: geometry.radiusOuter; from: 0.012; startEvents: mouseenter; to: 0.015; dur: 500"></a-entity>
                    </a-entity>
                    <a-entity  position="0 0.1 -0.4">
                        <a-text id="timer" value="00:00:00" align="center" height="0.3" width="0.3" visible="false"></a-text>
                    </a-entity>
                </a-entity>
            </a-entity>
            <a-entity id="render-vr">
                <a-entity light="type: spot; color: #ffffff; intensity: 7; decay: 1.6; distance: 18;" position="0 7.5 -18"></a-entity>
                <a-plane rotation="-90 0 0" color="#fd2929" scale="10 10 0"></a-plane>
                <a-entity position="0 1 -0.5" >
                    <a-text id="vr-info" value="Chose your labyrinth grid" align="center" scale="0.4 0.4 1" position="0 2.7 -1.4" geometry="primitive: plane; width: 3; height: 0.5" material="color: #0e7ef6;"></a-text>
                    <a-text class="get-grid-value clickable" value="10x10" data-value="10" align="center" geometry="primitive: plane;" material="color: #fd2929" scale="0.21 0.21 1" position="-0.3 2.3 -1.14"></a-text>
                    <a-text class="get-grid-value clickable" value="15x15" data-value="15" align="center" geometry="primitive: plane" material="color: #fd2929" scale="0.21 0.21 1" position="0 2.3 -1.14"></a-text>
                    <a-text class="get-grid-value clickable" value="20x20" data-value="20" align="center" geometry="primitive: plane" material="color: #fd2929" scale="0.21 0.21 1" position="0.3 2.3 -1.14"></a-text>
                </a-entity>
                <a-entity id="render-grid" position="0 0 -35" rotation="0 0 0"></a-entity>
                <a-text id="toggle-cursor" class="clickable" value="Click to turn off circle at the center" align="center" geometry="primitive: plane; width: 4" material="color: #fd2929" scale="0.3 0.3 1" position="0 1.5 -3" rotation="-45 0 0"></a-text>
                <a-text id="start-game" value="START GAME" align="center" geometry="primitive: plane;  width: 3" material="color: #05a349" scale="0.3 0.3 1" position="0 1.5 -2" rotation="-45 0 0"></a-text>
                <a-box geometry="primitive: cylinder" color="#ddd" scale="1 1 1"></a-box>
            </a-entity>
        </a-scene>
    </div>
</body>
</html>